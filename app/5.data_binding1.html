---
title: Data Binding
layout: ./app/layout.ejs
engine: ejs
current: Data Binding
---

<h2 class="text-center fw-bold">資料綁定</h2>

<p></p>

<p class="unmatchData"></p>

<p class="multiData"></p>
<p class="multiData"></p>
<p class="multiData"></p>
<p class="multiData"></p>

<div class="join"></div>

<div class="chartContainer">
  <svg>
    <rect />
    <rect />
    <rect />
    <rect />
    <rect />
  </svg>
</div>

<p></p>

<!-- enter 跟 exit 資料 -->
<p class="enterData"></p>
<p class="enterData"></p>

<p class="exitData"></p>
<p class="exitData"></p>
<p class="exitData"></p>
<p class="exitData"></p>
<p class="exitData"></p>

<script src="https://d3js.org/d3.v7.min.js"></script>
<script>
  // data 綁定一個資料
  const bindData = d3.select("p").data(["綁定資料"]);
  console.log(bindData);
  console.log(bindData["_groups"][0][0]["__data__"]);

  console.log("---data 綁定多個資料----");

  // data 綁定多個資料
  const multiData = ["綁", "定", "資", "料"];
  const bindMultiData = d3.selectAll(".multiData").data(multiData);

  console.log(bindMultiData);
  console.log(bindMultiData["_groups"][0]);

  console.log("--- data 綁定資料數量不匹配 ----");
  const bindUnmatchData = d3.select(".unmatchData").data(multiData);
  console.log("bindUnmatchData", bindUnmatchData);

  console.log("--- data 跟 datum 的差異比較 ----");

  // data 跟 datum 的差異比較
  const data = [10, 20, 30, 40];
  const d3Data = d3.select(".chartContainer").selectAll("rect").data(data);

  const d3Datum = d3.select(".chartContainer").selectAll("rect").datum(data);
  console.log("d3Data", d3Data);
  console.log("d3Datum", d3Datum);

  console.log("--- data 跟 datum 的join比較 ----");
  const joinData = [{ name: "jin" }, { name: "JIN" }];
  const jData = d3.select(".join").data(joinData);
  console.log("jData", jData);

  // const joinData = [{ name: "jin" }, { name: "JIN" }];
  // const jData = d3.select(".join").data([joinData]);
  // console.log("jData", jData);

  const joinDatum = [{ name: "jin" }, { name: "JIN" }];
  const jDatum = d3.select(".join").datum(joinDatum);
  console.log("joinDatum", joinDatum);

</script>
